<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event List</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;

        padding: 0;
      }

      body {
        font-size: 14px;
      }

      .container {
        max-width: 938px;
        margin: 2 auto;
        position: relative;
        padding-left: 25px;
        padding-top: 20pt;
      }

      .event-list {
        position: fixed;
        top: 40px;
        left: 0;
        width: 50%;
        height: 50vh;
        padding-left: 20px;
        padding-top: 20px;
      }

      .ongoingTitle {
        color: indigo;
        font-weight: 600;
        font-size: 25px;
      }

      .event-list table {
        border-collapse: collapse;
        width: 100%;
        color: indigo;
        background-color: indigo;
      }

      .event-list th,
      .event-list td {
        border: 1px solid #ddd;
        padding: 12px;
        text-align: left;
      }

      .event-list th {
        background-color: #f5f5f5;
      }

      .event-list tbody {
        display: block;
        height: calc(50vh - 40px);
        overflow-y: auto;
      }

      .event-list thead,
      .event-list tbody tr {
        display: table;
        width: 100%;
        table-layout: fixed;
      }

      .event-list th {
        background-color: #f5f5f5;
      }

      .event-list tr:hover {
        background-color: #f2f2f2;
        cursor: pointer;
      }

      .event-details {
        position: absolute;
        top: 40px;
        left: 0;
        width: 100%;
        height: calc(100% - 40px);
        display: none;
        background-color: #fff;
        padding: 40px;
        box-sizing: border-box;
      }

      .event-details h2 {
        margin-bottom: 20px;
      }

      .event-details p {
        margin-bottom: 10px;
      }

      .event-details .close-btn {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 20px;
        cursor: pointer;
      }
      .past-event-list {
        position: fixed;
        top: 60vh;
        left: 0;
        width: 50%;
        height: 40vh;
        padding-top: 60px;
        padding-left: 20px;
      }
      .past-event-title {
        position: fixed;
        top: 60vh;
        left: 0;
        width: 50%;
        height: 40vh;
        padding-top: 30px;
        padding-left: 25px;
        color: indigo;
        font-weight: 600;
        font-size: 25px;
      }

      .past-event-list th,
      .past-event-list td {
        border: 1px solid #ddd;
        padding: 12px;
        text-align: left;
      }

      .past-event-list th {
        background-color: #f5f5f5;
      }

      .past-event-list tbody {
        display: block;
        height: calc(40vh - 40px);
        overflow-y: auto;
      }

      .past-event-list thead,
      .past-event-list tbody tr {
        display: table;
        width: 100%;
        table-layout: fixed;
      }

      .past-event-list tr:hover {
        background-color: #f2f2f2;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h3 class="ongoingTitle">Ongoing Events</h3>

      <table class="event-list">
        <thead>
          <tr>
            <th>Event Name</th>
            <th>Event Date</th>
            <th>Event Status</th>
          </tr>
        </thead>
        <tbody id="table-body"></tbody>
      </table>

      <h3 class="past-event-title">Past Events</h3>
      <table class="past-event-list">
        <thead>
          <tr>
            <th>Event Name</th>
            <th>Event Date</th>
            <th>Event Status</th>
          </tr>
        </thead>
        <tbody id="past-events-table-body"></tbody>
      </table>

      <div class="event-details" id="event-details">
        <span class="close-btn">&times;</span>
        <h2></h2>
        <p><strong>Event Name: </strong><span class="event-name"></span></p>
        <p><strong>Event Date: </strong><span class="event-date"></span></p>
        <p><strong>Event Status: </strong><span class="event-status"></span></p>
      </div>
    </div>

    <script>
      const eventList = [
        // Original events
        {
          name: "Event 1",
          date: "2023-05-01",
          status: "Waiting advisor approval",
        },
        { name: "Event 2", date: "2023-05-02", status: "Advisor Approved" },
        { name: "Event 3", date: "2023-05-03", status: "Waiting OSE approval" },
        { name: "Event 4", date: "2023-05-04", status: "OSE Approved" },
        { name: "Event 5", date: "2023-05-05", status: "OSE Approved" },

        // Additional events
        {
          name: "Event 6",
          date: "2023-05-06",
          status: "Waiting advisor approval",
        },
        { name: "Event 7", date: "2023-05-07", status: "Advisor Approved" },
        { name: "Event 8", date: "2023-05-08", status: "Waiting OSE approval" },
        { name: "Event 9", date: "2023-05-09", status: "OSE Approved" },
        { name: "Event 10", date: "2023-05-10", status: "OSE Approved" },
        {
          name: "Event 11",
          date: "2023-05-11",
          status: "Waiting advisor approval",
        },
        { name: "Event 12", date: "2023-05-12", status: "Advisor Approved" },
        {
          name: "Event 13",
          date: "2023-05-13",
          status: "Waiting OSE approval",
        },
        { name: "Event 14", date: "2023-05-14", status: "OSE Approved" },
        { name: "Event 15", date: "2023-05-15", status: "OSE Approved" },
      ];
      const pastEvents = [
        { name: "Past Event 1", date: "2023-04-01", status: "Approved" },
        { name: "Past Event 2", date: "2023-04-02", status: "Approved" },
        { name: "Past Event 3", date: "2023-04-03", status: "Approved" },
      ];
      const tableBody = document.getElementById("table-body");
      const pastEventsTableBody = document.getElementById(
        "past-events-table-body"
      );
      const eventDetails = document.getElementById("event-details");

      function renderTable() {
        tableBody.innerHTML = "";
        eventList.forEach((event, index) => {
          const row = document.createElement("tr");

          const name = document.createElement("td");
          name.innerText = event.name;
          row.appendChild(name);

          const date = document.createElement("td");
          date.innerText = event.date;
          row.appendChild(date);

          const status = document.createElement("td");
          status.innerText = event.status;
          row.appendChild(status);

          row.addEventListener("click", () => {
            renderEventDetails(index, eventList);
          });

          tableBody.appendChild(row);
        });
      }

      function renderPastEventsTable() {
        pastEventsTableBody.innerHTML = "";
        pastEvents.forEach((event, index) => {
          const row = document.createElement("tr");

          const name = document.createElement("td");
          name.innerText = event.name;
          row.appendChild(name);

          const date = document.createElement("td");
          date.innerText = event.date;
          row.appendChild(date);

          const status = document.createElement("td");
          status.innerText = event.status;
          row.appendChild(status);

          row.addEventListener("click", () => {
            renderEventDetails(index, pastEvents);
          });

          pastEventsTableBody.appendChild(row);
        });
      }

      function renderEventDetails(index, eventList) {
        const event = eventList[index];
        eventDetails.innerHTML = `
    <span class="close-btn">&times;</span>
    <h2>${event.name}</h2>
    <p><strong>Event Name: </strong>${event.name}</p>
    <p><strong>Event Date: </strong>${event.date}</p>
    <p><strong>Event Status: </strong>${event.status}</p>
  `;

        eventDetails.style.display = "block";
        document.querySelector(".close-btn").addEventListener("click", () => {
          eventDetails.style.display = "none";
        });
      }

      renderTable();
      renderPastEventsTable();

      function isListViewScrollable() {
        const eventList = document.querySelector(".event-list");
        const pastEventList = document.querySelector(".past-event-list");
        return (
          eventList.scrollHeight > eventList.clientHeight ||
          pastEventList.scrollHeight > pastEventList.clientHeight
        );
      }

      console.log("Is the list view scrollable?", isListViewScrollable());
    </script>
  </body>
</html>
