<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <title>Event List</title>

    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        background-color: #f7f9fd;

        padding: 0;
      }

      body {
        font-size: 14px;
      }

      .container {
        max-width: 938px;
        margin: 2 auto;
        position: relative;
        padding-left: 25px;
        padding-top: 20pt;
      }
      .right-container {
        position: fixed;
        top: 40px;
        right: 0;
        width: 50%;
        height: 50vh;
        padding-left: 20px;
        padding-top: 0px;
      }

      .event-list {
        position: fixed;
        top: 50px;
        left: 0;
        width: 50%;
        height: 50vh;
        padding-left: 20px;
        padding-top: 10px;
        background-color: transparent;
      }

      .ongoingTitle {
        color: indigo;
        font-weight: 600;
        font-size: 20px;
        padding-left: 25px;
        margin-top: 40px;
      }

      .event-list table {
        border-collapse: collapse;
        width: 100%;
      }

      .event-list th,
      .event-list td {
        border: 1px solid #ddd;
        padding: 12px;
        text-align: left;
      }

      .event-list th {
        background-color: #f5f5f5;
      }

      .event-list tbody {
        display: block;
        height: calc(50vh - 40px);
        overflow-y: auto;
        border: 1.5px solid #ddd;
      }

      .event-list thead,
      .event-list tbody tr {
        display: table;
        width: 100%;
        table-layout: fixed;
        /* Add a border color here */
      }

      .event-list th {
        background-color: #04aa6d;
        color: white;
        border-radius: 5px;
      }

      .event-list tr:hover {
        background-color: #04aa6d;
        cursor: pointer;
      }
      .event-details {
        position: fixed;
        top: 0;
        right: -50%; /* Slide out to the right */
        width: 50%;
        height: 100%;
        background-color: white;
        padding: 20px;

        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        z-index: 999;
        transition: right 0.3s ease-in-out;
      }

      .event-details.open {
        right: 0; /* Slide in from the right */
      }

      .close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 20px;
        cursor: pointer;
      }

      .event-info {
        margin-top: 20px;
        background-color: transparent;
      }

      .event-details-row {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
        background-color: transparent;
      }

      .event-details-label {
        width: 200px;
        font-weight: bold;
        background-color: transparent;
      }

      .event-name {
        font-size: 24px;
        margin-bottom: 10px;
        background-color: transparent;
      }

      .event-details-row label {
        margin-right: 10px;
        background-color: transparent;
      }

      .event-details-row span {
        font-weight: bold;
        background-color: transparent;
      }

      .event-details.open {
        right: 0; /* Slide in from the right */
      }
      .event-details h2 {
        margin-bottom: 0px;
        width: 200;
        background-color: transparent;
      }

      .event-details p {
        margin-bottom: 10px;
      }

      .event-details .close-btn {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 20px;
        cursor: pointer;
      }

      /* .event-details {
        position: fixed;
        top: 0px;
        left: 0;
        width: 50%;
        height: 100%;
        display: none;
        background-color: #f7f9fd;
        padding: 40px;
        box-sizing: border-box;
      }

      .event-details h2 {
        margin-bottom: 0px;
        width: 200;
      }

      .event-details p {
        margin-bottom: 10px;
      }

      .event-details .close-btn {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 20px;
        cursor: pointer;
      } */
      .past-event-list {
        position: fixed;
        top: 60vh;
        left: 0;
        width: 50%;
        height: 40vh;
        padding-top: 60px;
        padding-left: 20px;
        background-color: transparent;
      }
      .past-event-title {
        position: fixed;
        left: 0;
        background-color: transparent;
        padding-top: 30%;
        padding-left: 25px;
        color: indigo;
        font-weight: 600;
        font-size: 20px;
      }

      .past-event-list th,
      .past-event-list td {
        border: 1px solid #ddd;
        padding: 12px;
        text-align: left;
      }

      .past-event-list th {
        background-color: #04aa6d;
        color: white;
        border-radius: 5px;
      }

      .past-event-list tbody {
        display: block;
        height: calc(40vh - 40px);
        overflow-y: auto;
      }

      .past-event-list thead,
      .past-event-list tbody tr {
        display: table;
        width: 100%;
        table-layout: fixed;
      }

      .past-event-list tr:hover {
        background-color: #04aa6d;
        cursor: pointer;
      }
      /* .register-event-container {
        background-color: #02cb7b;
        width: 25%;
        margin-top: 2px;
        height: 12%;
        border-radius: 13px;
        margin: 0;
        padding: 12px;
      } */
      /* .register-event-btn-title {
        text-align: center;
        color: white;
        background-color: #02cb7b;
      } */
      /* .register-event-btn-title {
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        color: white;
        background-color: #02cb7b;
      }
      .register-event-btn-title i {
        margin-right: 10px;
      } */
      /* .register-event-btn-title {
        display: flex;
        justify-content: center;
        align-items: center;
        transition: transform 0.2s ease-in-out;
        cursor: pointer;
      }
      .register-event-btn-title:hover {
        transform: scale(1.05);
      }
      .register-event-btn-title i {
        margin-right: 10px;
      } */
      /* .register-event-btn-title:before {
        content: "";
        display: block;
        background: url("icon _clutery_.svg") no-repeat;
        width: 20px;
        height: 20px;
        float: left;
        margin: 0 6px 0 0;
      } */
      /* .register-event-btn {
        display: inline-block;
        padding: 10px 20px;
        border: 2px solid #333;
        border-radius: 5px;
        text-align: center;
        transition: transform 0.2s ease-in-out;
        cursor: pointer;
      }
      .register-event-btn:hover {
        transform: translate(0, -5px);
        
      }
      .register-event-btn-title {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .register-event-btn-title:before {
        content: "";
        display: block;
        background: url("icon _clutery_.svg") no-repeat;
        width: 20px;
        height: 20px;
        float: left;
        margin: 0 6px 0 0;
      } */
      .register-event-btn {
        display: inline-block;
        padding: 10px 20px;
        border: 2px solid #02cb7b;
        border-radius: 5px;
        background-color: #02cb7b;
        color: white;
        text-align: center;
        transition: transform 0.2s ease-in-out;
        cursor: pointer;
      }
      .register-event-btn:hover {
        transform: scale(1.05);
      }
      .register-event-btn-title {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .register-event-btn-title i {
        color: white;
        margin-right: 6px;
      }
      /* .club-information-outer-bg {
        background-color: #ffffff;
        width: 420%;
        margin-top: 2px;
        height: 100%;
        border-radius: 13px;
        margin: 0;
        padding: 12px;
      }
      .club-information-inner-bg {
        background-color: #eef1f7;
        width: 300px;
        margin-top: 2px;
        border-radius: 13px;
        margin: 0;
        padding: 12px;
      }
      .card {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        padding: 10px;
        border-radius: 5px;
      }
      .card-icon {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 50px;
        height: 50px;
        background-color: white;
        border-radius: 13px;
        color: white;
        margin-right: 10px;
      }
      .card-icon i {
        background-color: transparent;
      }
      .card-text {
        display: flex;
        flex-direction: column;
      }
      .card-text p {
        margin: 5px 0;
      }
      p {
        background-color: transparent;
      } */
      .club-information-outer-bg {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        background-color: #ffffff;
        border-radius: 13px;
        margin-top: 2px;
        padding: 12px;
      }
      .club-information-inner-bg {
        background-color: #eef1f7;
        border-radius: 13px;
        margin-top: 2px;
        margin-right: 20px;
        padding: 12px;
        flex-basis: calc(50% - 20px);
      }
      .card {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        padding: 10px;
        border-radius: 5px;
      }
      .card-icon {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 50px;
        height: 50px;
        background-color: white;
        border-radius: 13px;
        color: white;
        margin-right: 10px;
      }
      .card-icon i {
        background-color: transparent;
      }
      .card-text {
        display: flex;
        flex-direction: column;
      }
      .card-text p {
        margin: 5px 0;
      }
      p {
        background-color: transparent;
      }
      .club-bio {
        border-radius: 13px;
        margin-top: 2px;
        margin-right: 20px;
        padding: 12px;
        flex-basis: calc(50% - 20px);
      }
      .club-bio h3 {
        margin-top: 0;
        margin-bottom: 10px;
      }
      @media (max-width: 768px) {
        .club-information-outer-bg {
          flex-direction: column;
        }
        .club-information-inner-bg,
        .club-bio {
          margin-right: 0;
          margin-bottom: 20px;
        }
      }
      /* This is the member info */
      /* NEW CSS FOR MEMBER LIST VIEW AND ADVISOR INFORMATION */
      .member-list-outer-bg {
        background-color: #ffffff;
        width: 50%;
        margin-top: 30px;
        height: 300px;
        border-radius: 13px;
        margin: 0;
        padding: 12px;
        overflow-y: scroll;
      }
      .member-list-inner-bg {
        width: 100%;
        height: 50%;
        border-radius: 13px;
        margin: 0;
        padding: 12px;
      }
      .member-list-card {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        padding: 10px;
        border-radius: 5px;
      }
      .member-list-icon {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 50px;
        height: 50px;
        background-color: #eef1f7;
        border-radius: 50%;
        font-size: 24px;
        font-weight: bold;
        margin-right: 10px;
      }
      .advisor-information-outer-bg {
        background-color: #ffffff;
        width: 50%;
        height: 100%;
        margin-right: 20px;
        border-radius: 13px;
        margin-left: 20px;
        padding: 12px;
        overflow-y: scroll;
      }

      .advisor-information-inner-bg {
        width: 100%;
        border-radius: 13px;
        margin: 0;
        padding: 12px;
      }
      .advisor-information-card {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 5px;
      }
      .advisor-information-icon {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 50px;
        height: 50px;
        background-color: white;
        border-radius: 13px;
        color: white;
        margin-right: 10px;
      }
      .advisor-information-icon i {
        background-color: transparent;
      }
      .approve-button,
      .decline-button {
        padding: 10px 20px;
        background-color: #3b82f6;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 14px;
        cursor: pointer;
        margin-top: 20px;
        transition: background-color 0.3s ease;
      }

      .approve-button:hover,
      .decline-button:hover {
        background-color: #2563eb;
      }

      .approve-button:active,
      .decline-button:active {
        background-color: #1e40af;
        transform: translateY(1px);
      }

      .decline-button {
        background-color: #ef4444;
        margin-left: 30px;
      }

      .decline-button:hover {
        background-color: #d73737;
      }

      .decline-button:active {
        background-color: #9f1c1c;
        transform: translateY(1px);
      }
      .logout-btn {
        display: inline-block;
        padding: 10px 20px;
        border: 2px solid transparent;
        border-radius: 5px;
        background-color: #02cb7b;
        margin-left: 60%;
        color: white;
        text-align: center;
        transition: transform 0.2s ease-in-out;
        cursor: pointer;
      }
      .logout-btn:hover {
        transform: scale(1.05);
      }
    </style>
  </head>
  <body>
    <div style="display: flex">
      <h3 class="ongoingTitle" style="margin-top: 30px">Approval Waiting</h3>
  
      <h3
        class="ongoingTitle"
        style="margin-top: 30px; color: #075536; font-weight: 400"
      >
        ðŸ‘‹ Hello {{ user }}, welcome back!
      </h3>
    </div>
    <div class="container">
      <table class="event-list">
        <thead>
          <tr>
            <th>Event Name</th>
            <th>Event Date</th>
            <th>Event Status</th>
          </tr>
        </thead>
        <tbody id="table-body"></tbody>
      </table>

      <div>
        <h3 class="past-event-title">Past Events</h3>
        <table class="past-event-list">
          <thead>
            <tr>
              <th>Event Name</th>
              <th>Event Date</th>
              <th>Event Status</th>
            </tr>
          </thead>
          <tbody id="past-events-table-body"></tbody>
        </table>
      </div>

      <div class="event-details" id="event-details">
        <span class="close-btn">&times;</span>
        <div class="event-info">
          <h2 class="event-name"></h2>
          <hr
            class="dashed"
            style="border-top: 3px dashed #bbb; margin-top: 15px"
          />

          <div class="event-details-row" style="margin-top: 15px">
            <label class="event-details-label">Club Name:</label>
            <span class="club-name"></span>
          </div>
          <hr
            class="dashed"
            style="border-top: 3px dashed #bbb; margin-top: 15px"
          />
          <div class="event-details-row" style="margin-top: 15px">
            <label class="event-details-label">Event Description:</label>
            <span class="event-description"></span>
          </div>

          <hr
            class="dashed"
            style="border-top: 3px dashed #bbb; margin-top: 15px"
          />
          <div
            class="location-row"
            style="
              display: flex;
              margin-top: 15px;
              background-color: transparent;
            "
          >
            <div class="event-details-row">
              <label class="event-details-label">Event Date:</label>
              <span class="event-date"></span>
            </div>
            <div class="event-details-row">
              <label class="event-details-label">Estimated Attendance:</label>
              <span class="estimated-attendance"></span>
            </div>
          </div>
          <hr
            class="dashed"
            style="border-top: 3px dashed #bbb; margin-top: 5px"
          />
          <div
            class="location-row"
            style="
              display: flex;
              margin-top: 15px;
              background-color: transparent;
            "
          >
            <div class="event-details-row">
              <label class="event-details-label"
                >First Location Preference:</label
              >
              <span class="first-location-preference"></span>
            </div>
            <div class="event-details-row">
              <label class="event-details-label"
                >Second Location Preference:</label
              >
              <span class="second-location-preference"></span>
            </div>
          </div>
          <hr
            class="dashed"
            style="border-top: 3px dashed #bbb; margin-top: 5px"
          />
          <div
            class="location-row"
            style="
              display: flex;
              margin-top: 15px;
              background-color: transparent;
            "
          >
            <div class="event-details-row">
              <label class="event-details-label">Start Time:</label>
              <span class="start-time"></span>
            </div>
            <div class="event-details-row">
              <label class="event-details-label">End Time:</label>
              <span class="end-time"></span>
            </div>
          </div>
          <hr
            class="dashed"
            style="border-top: 3px dashed #bbb; margin-top: 5px"
          />
          <div class="button-row" style="background-color: transparent">
            <button class="approve-button">Approve Event</button>
            <button class="decline-button">Decline Event</button>
          </div>
        </div>
      </div>
    </div>
    <div class="right-container">
      <div class="register-event-container">
        <button type="button" class="register-event-btn" onclick="location.href='{{ url_for('registration', user=session['user']) }}'">
          <p class="register-event-btn-title">
            <i class="material-icons" style="background-color: transparent"
              >event</i
            >
            Register Event
          </p>
        </button>
      </button>
      <button
        type="button"
        class="logout-btn"
        style="background-color: #d73737; "
        onclick="location.href='{{ url_for('logout') }}'"
      >
        <p class="logout-btn-title">
          <i class="material-icons" style="background-color: transparent"
            >logout</i
          >
          Log Out
        </p>
      </button>

        <div>
          <h2 style="margin-top: 20px; margin-left: 20px; margin-bottom: 10px">
            Club Information
          </h2>
          <div class="club-information-outer-bg">
            <div class="club-information-inner-bg">
              <div class="card">
                <div class="card-icon">
                  <i class="material-icons" style="color: #20bddc">person</i>
                </div>
                <div class="card-text">
                  <p>Organization Name:</p>
                  <p>{{ member['club_name'] }}</p>
                  <!-- <p>Nomad Student Organization</p> -->
                </div>
              </div>
              <div class="card">
                <div class="card-icon">
                  <i class="material-icons" style="color: #f1642d">email</i>
                </div>
                <div class="card-text">
                  <p>Email:</p>
                  <!-- <p>{{ member['email'] }}</p> -->
                  <a href="mailto:"{{ member['email']}}"">{{ member['email'] }}</a>
                  <!-- <<p>Nomad@Goucher.edu</p> --> 
                </div>
              </div>
              <div class="card">
                <div class="card-icon" style="color: #02cb7b">
                  <i class="material-icons">phone</i>
                </div>
                <div class="card-text">
                  <p>Phone:</p>
                  <p>{{ member['phone_number'] }}</p>
                  <!-- <p>443-713-8434</p> -->
                </div>
              </div>
            </div>
            <div class="club-bio">
              <h3>Biography</h3>
              <p style="line-height: 1.5">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed
                commodo turpis eget nulla tincidunt pretium. Fusce nec orci vel
                mauris ultrices sagittis vitae eu velit. Pellentesque eget lacus
                turpis. Aenean luctus diam risus, eu aliquam justo sollicitudin
                in.
              </p>
            </div>
          </div>
        </div>

        <div style="display: flex; margin-top: 20px">
          <div class="member-list-outer-bg">
            <div class="member-list-card">
              <div class="member-list-icon">
                <p>A</p>
              </div>
              <div class="member-list-text">
                <p>President:</p>
                <p>John Doe</p>
              </div>
            </div>
            <div class="member-list-card">
              <div class="member-list-icon">
                <p>B</p>
              </div>
              <div class="member-list-text">
                <p>Vice President:</p>
                <p>Jane Doe</p>
              </div>
            </div>
            <div class="member-list-card">
              <div class="member-list-icon">
                <p>C</p>
              </div>
              <div class="member-list-text">
                <p>Treasurer:</p>
                <p>Bob Smith</p>
              </div>
            </div>
            <div class="member-list-card">
              <div class="member-list-icon">
                <p>D</p>
              </div>
              <div class="member-list-text">
                <p>Secretary:</p>
                <p>Emily Johnson</p>
              </div>
            </div>
            <div class="member-list-card">
              <div class="member-list-icon">
                <p>E</p>
              </div>
              <div class="member-list-text">
                <p>Member:</p>
                <p>Mike Davis</p>
              </div>
            </div>
          </div>
          <div class="advisor-information-outer-bg">
            <div class="advisor-information-inner-bg">
              <div class="advisor-information-card">
                <div class="advisor-information-icon">
                  <i class="material-icons" style="color: #20bddc">person</i>
                </div>
                <div class="advisor-information-text">
                  <p>Advisor Name:</p>
                  <p>{{ advisors[0] }} {{ advisors[1] }}</p>
                </div>
              </div>
              <div class="advisor-information-card">
                <div class="advisor-information-icon">
                  <i class="material-icons" style="color: #f1642d">email</i>
                </div>
                <div class="advisor-information-text">
                  <p>Email:</p>
                  <p>{{ advisors[2] }}</p>
                </div>
              </div>
              <div class="advisor-information-card">
                <div class="advisor-information-icon" style="color: #02cb7b">
                  <i class="material-icons">phone</i>
                </div>
                <div class="advisor-information-text">
                  <p>Phone:</p>
                  <p>{{ advisors[3] }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const eventList = [
        // Original events
        {% for event in current_events %}
          { name:"{{ event[0] }}", date: "{{ event[1] }}", status: "{{ event[2] }}"},
        {% endfor %}
      ];
      const pastEvents = [
      {% for event in past_events %}
          { name:"{{ event[0] }}", date: "{{ event[1] }}", status: "{{ event[2] }}"},
        {% endfor %}
      ];
      const tableBody = document.getElementById("table-body");
      const pastEventsTableBody = document.getElementById(
        "past-events-table-body"
      );
      const eventDetails = document.getElementById("event-details");

      function renderTable() {
        tableBody.innerHTML = "";
        eventList.forEach((event, index) => {
          const row = document.createElement("tr");

          const name = document.createElement("td");
          name.innerText = event.name;
          row.appendChild(name);

          const date = document.createElement("td");
          date.innerText = event.date;
          row.appendChild(date);

          const status = document.createElement("td");
          status.innerText = event.status;
          row.appendChild(status);

          row.addEventListener("click", () => {
            renderEventDetails(index, eventList);
          });

          tableBody.appendChild(row);
        });
      }

      function renderPastEventsTable() {
        pastEventsTableBody.innerHTML = "";
        pastEvents.forEach((event, index) => {
          const row = document.createElement("tr");

          const name = document.createElement("td");
          name.innerText = event.name;
          row.appendChild(name);

          const date = document.createElement("td");
          date.innerText = event.date;
          row.appendChild(date);

          const status = document.createElement("td");
          status.innerText = event.status;
          row.appendChild(status);

          row.addEventListener("click", () => {
            renderEventDetails(index, pastEvents);
          });

          pastEventsTableBody.appendChild(row);
        });
      }

      //       function renderEventDetails(index, eventList) {
      //         const event = eventList[index];
      //         eventDetails.innerHTML = `
      //     <span class="close-btn">&times;</span>
      //     <h2>${event.name}</h2>
      //     <p><strong>Event Name: </strong>${event.name}</p>
      //     <p><strong>Event Date: </strong>${event.date}</p>
      //     <p><strong>Event Status: </strong>${event.status}</p>

      //   `;

      //         eventDetails.style.display = "block";
      //         document.querySelector(".close-btn").addEventListener("click", () => {
      //           eventDetails.style.display = "none";
      //         });
      //       }
      function renderEventDetails(index, eventList) {
        const event = eventList[index];
        const eventDetails = document.getElementById("event-details");
        const closeButton = eventDetails.querySelector(".close-btn");
        const eventName = eventDetails.querySelector(".event-name");
        const clubName = eventDetails.querySelector(".club-name");
        const estimatedAttendance = eventDetails.querySelector(
          ".estimated-attendance"
        );
        const eventDescription =
          eventDetails.querySelector(".event-description");
        const firstLocationPreference = eventDetails.querySelector(
          ".first-location-preference"
        );
        const secondLocationPreference = eventDetails.querySelector(
          ".second-location-preference"
        );
        const eventDate = eventDetails.querySelector(".event-date");
        const startTime = eventDetails.querySelector(".start-time");
        const endTime = eventDetails.querySelector(".end-time");

        eventName.textContent = event.name;
        estimatedAttendance.textContent = event.estimatedAttendance;
        eventDescription.textContent = event.eventDescription;
        firstLocationPreference.textContent = event.firstLocationPreference;
        secondLocationPreference.textContent = event.secondLocationPreference;
        eventDate.textContent = event.eventDate;
        startTime.textContent = event.startTime;
        endTime.textContent = event.endTime;

        eventDetails.classList.add("open");

        closeButton.addEventListener("click", () => {
          eventDetails.classList.remove("open");
        });
      }

      renderTable();
      renderPastEventsTable();

      function isListViewScrollable() {
        const eventList = document.querySelector(".event-list");
        const pastEventList = document.querySelector(".past-event-list");
        return (
          eventList.scrollHeight > eventList.clientHeight ||
          pastEventList.scrollHeight > pastEventList.clientHeight
        );
      }

      console.log("Is the list view scrollable?", isListViewScrollable());
    </script>
  </body>
</html>
